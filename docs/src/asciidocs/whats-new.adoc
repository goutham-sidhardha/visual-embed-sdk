= What's new
:toc: true
:toclevels: 2

:page-title: What's new
:page-pageid: whats-new
:page-description: New features and enhancements

This article provides information about new features, enhancements, and deprecated functionality in ThoughtSpot Everywhere.


== Version 7.2.1

The ThoughtSpot Software 7.2.1 version introduces the following features and enhancements in the Developer portal:

=== Search embed 

If you are using the SearchEmbed SDK version 1.12.0 or later to embed ThoughtSpot Search in your app, the SDK shows the following alert:
----
Search Embed is in Beta in this release
----

The SDK displays this alert by default on all ThoughtSpot Software instances running 7.2.1CU1 or lower versions.
Embedding Search using Visual Embed SDK is fully supported from the 8.4.0-sw release on ThoughtSpot Software instances that support *New Answer experience*.

If you are aware of the Search Embed feature limitation in 7.2.1 and lower versions, and you do not want to see the alert, you can disable it in the SDK by setting the `suppressSearchEmbedBetaWarning` attribute to `true`.

----
suppressSearchEmbedBetaWarning: true
----

For more information about Visual Embed SDK enhancements, see link:https://developers.thoughtspot.com/docs/?pageid=embed-sdk-changelog[Visual Embed Changelog, window=_blank].

=== Developer portal

[width="100%" cols="1,4"]
|====
||
|[tag greenBackground]#NEW FEATURE#  a| +++<h5>+++Developer Playground enhancements+++</h5>+++

* The *Full app* Playground page includes the *Hide profile and help* checkbox to provide a preview of the `disableHelpAndProfile` function that can hide the Help and Profile icons in the ThoughtSpot navigation bar.

* The *Full Height* checkbox in *Pinboard* Playground provides a preview of the `fullHeight` attribute that can dynamically resize the embedded pinboard frame according to the height of the pinboard.

For more information, see xref:developer-playground.adoc[Developer Playground].
|====
=== Custom actions

[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE# a|  +++<h5>+++Custom actions for worksheets+++</h5>+++

The worksheet pages now include a `Custom actions` tab that shows the custom actions created in the Developer portal. ThoughtSpot users can add these  actions to a worksheet and place them as primary actions or menu items in the new visualizations built from that worksheet.

This feature is available to all ThoughtSpot users who have edit privileges to a worksheet.

For more information, see xref:custom-actions-worksheet.adoc[Add custom actions to a worksheet].

|[tag greenBackground]#NEW FEATURE# a| +++<h5>+++Query parameters for URL-based custom actions +++</h5>+++

The Developer portal now allows you to add arbitrary key-value pairs as query parameters for a URL action. If a URL endpoint requires specific information, such as the database details or data object attributes, you can add a key-value pair of these attributes when creating a custom action. When the custom action workflow is triggered, these attributes are passed as query parameters in `GET` requests to get the data payload from ThoughtSpot.

For more information, see xref:custom-actions-url.adoc[Configure a custom URL action].

|[tag redBackground]#REMOVED# a|+++<h5>The Only allow in context menu checkbox</<h5> +++

The *Only allow in context menu* checkbox in the custom action creation dialog is removed from the UI. This checkbox was available in previous releases to allow developers to set a custom action to appear only in the contextual menu on pinboard visualizations, charts, or tables.

If you have created custom actions with the *Only allow in context menu* setting enabled on your instance, note these custom action workflow changes:

* If you have a *Global* custom action with the *Only allow in context menu* setting enabled, the configuration setting _is not_ preserved and the action is placed in the **More** image:./images/icon-more-10px.png[the more options menu] menu instead of the contextual menu.
+
You can xref:custom-actions-edit.adoc[modify the position of this action] by using the *Edit* option in the *Custom actions* panel on a visualization or search results page.

* If you have a *Local* custom action with the *Only allow in context menu* setting enabled and the action is already assigned to a worksheet, visualization, chart, or table, the configuration setting _is_ preserved and the custom action shows up in the contextual menu.

* If you have a *Local* custom action with the *Only allow in context menu* setting enabled, but it is not assigned to a worksheet, visualization, chart, or table, the action will not be available as a menu item or button. You must add the action to a visualization, chart, or table, and configure its position as required. For more information, see xref:custom-actions-viz.adoc[Add a custom action to a visualization] and xref:custom-actions-worksheet.adoc[Add custom actions to a worksheet].

|====

=== OpenID Connect authentication

Your application users can now authenticate to an authorization server at your OpenID provider and access embedded ThoughtSpot content using their SSO credentials.  

For more information, see xref:configure-oidc.adoc[OpenID Connect authentication].

=== Visual Embed SDK

The ThoughtSpot Software 7.2.1 version supports Visual Embed SDK version 1.5.0, which includes the following new features and enhancements. 

[width="100%" cols="1,4"]
|====
||
|[tag greenBackground]#NEW FEATURE# |+++<h5>OIDC AuthType</h5> +++ 

The SDK supports the `OIDC` `authType` in `init` calls. If you want your application users to authenticate to an OpenID provider and use their SSO credentials to access the embedded ThoughtSpot content, you can enable the `OIDC` authentication type in the SDK. 

For more information, see xref:embed-authentication#oidc-auth.adoc[Authentication and security attributes].
|[tag greenBackground]#NEW FEATURE# a|+++<h5>+++Prefetch API+++</h5>+++

The `prefetch` API fetches static resources from a given URL before your application loads. Web browsers can then cache the prefetched resources locally and serve them from a user's local disk. You can use this API to load the embedded objects faster and improve your application response time.

For more information, see xref:prefetch-and-cache.adoc[Prefetch static resources].

|[tag greenBackground]#NEW FEATURE# a|+++<h5>+++In-app page navigation+++</h5>+++

The `navigateToPage` method in `appEmbed` SDK lets you provide quick and direct access to a specific pinboard, saved answer, or an application page. You can add a custom menu action or button in your application UI that calls the `navigateToPage` method and leads your users to the page specified in the `path` parameter.

For more information, see xref:page-navigation.adoc[Add a custom action for in-app navigation].

|[tag greenBackground]#NEW FEATURE# a|+++<h5>Pinboard embed</h5>+++

The `pinboardEmbed` package includes the `defaultHeight` attribute that sets a minimum height for embedded objects on a pinboard page and the corresponding visualization pages that a user can navigate to.

For more information, see xref:embed-search.adoc[Embed a pinboard].

|[tag greenBackground]#NEW FEATURE# a| +++<h5>+++autoLogin+++</h5>+++

The SDK now supports logging in users automatically after a user session has expired.

For more information, see xref:embed-authentication.adoc##embed-session-sec[Embed user authentication].

|[tag greenBackground]#NEW FEATURE# a| +++<h5>+++shouldEncodeUrlQueryParams +++</h5>+++

You can now convert query parameters in the ThoughtSpot generated URLs to base64-encoded format. You can enable this attribute to secure your cluster from cross-site scripting attacks.
|[tag redBackground]#BREAKING CHANGE# a| +++<h5>+++Data structure changes in custom action response payloads +++</h5>+++

* The  data structure passed in the custom action response for search now shows as `payload.data.embedAnswerData` instead of `payload.data.columnsAndData`.

* The answer payload for custom actions includes the following metadata:

** `reportBookmetadata`
+
Includes visualization metadata attributes such as description, object header metadata, author details, timestamp of the answer creation, and modification.

** user data
+
Includes user information such as username, GUID of the user, and email address.

To view a sample response payload, see xref:callback-response-payload.adoc#search-data-payload[Custom action response payload].

|[tag greenBackground]#NEW FEATURE# a| +++<h5>+++preventPinboardFilterRemoval +++</h5>+++

The `pinboardEmbed` SDK package now includes the `preventPinboardFilterRemoval` attribute. You can use this attribute to disable the filter removal action and thus prevent users from removing the filter chips added on a pinboard page.

For more information, see xref:embed-pinboard.adoc[Embed a pinboard] and xref:embed-a-viz.adoc[Embed a visualization].
|[tag greenBackground]#NEW FEATURE# a| +++<h5>+++suppressNoCookieAccessAlert +++</h5>+++

You can now set custom alerts for `noCookieAccess` events. By default, the SDK triggers a `noCookieAccess` event and generates an alert when a user's browser blocks third-party cookies. The `suppressNoCookieAccessAlert` allows you to disable this alert.

|[tag greenBackground]#NEW FEATURE# a| +++<h5>+++Support for fetching callback custom action payload in batches +++</h5>+++

The Visual Embed SDK now supports processing data in batches for callback custom action responses.
The callback custom action event in the SDK package supports defining `batchSize` and `offset` values to paginate the answer payload and send the records in batches.

For more information, see xref:push-data-to-external-app.adoc#large-dataset[Callback custom action workflow].


|[tag greenBackground]#NEW FEATURE# a|+++<h5>+++Full application embedding+++</h5>+++

The `appEmbed` SDK package includes the following new attributes:

* The `disableProfileAndHelp` attribute to show or hide the `Help (?)` and the user profile menu in the navigation bar of your embedded app.

* The `hideObjects` attribute to hide specific objects from a user's page view.

For more information, see xref:full-embed.adoc[Embed full application].

|[tag greenBackground]#NEW FEATURE# |+++<h5>+++Search embed +++</h5>+++

The `searchEmbed` package includes the `forceTable` attribute that sets tabular view as the default format for presenting search data. You can use set this attribute to `true` to force search results to appear in the table view.

For more information, see xref:embed-search.adoc[Embed ThoughtSpot search].

|[tag greenBackground]#NEW FEATURE#  a| +++<h5>+++searchOptions+++</h5>+++

The `searchEmbed` SDK package introduces the `searchOptions` parameter for setting search tokens. The `searchOptions` parameter includes the following attributes:

* `searchTokenString`
+
A TML query string to define search tokens.

* `executeSearch`
+
When set to `true`, it executes search and shows the search results.

For more information, see xref:embed-search.adoc#search-query[Embed ThoughtSpot search].

|[tag redBackground]#REMOVED# |

The `searchQuery` parameter is no longer supported and is removed from the `searchEmbed` SDK package.

|[tag greenBackground]#NEW FEATURE# a|+++<h5>+++Embed events +++</h5>+++
The SDK EmbedEvent library includes the following events:

* `QueryChanged`
* `AuthExpired`
* `VizPointDoubleClick`
* `Drilldown`
* `DialogOpen`
* `DialogClose`
* `RouteChange`

For more information, see xref:embed-events.adoc[Event subscription and handling].

|[tag greenBackground]#NEW FEATURE# | +++<h5>Render embedded objects in queue</h5>+++

The SDK now supports rendering embedded objects in a queue. If you have multiple embedded objects, you can enable the `queueMultiRenders` parameter to queue your embedded objects and render them one after another. This feature helps in decreasing the load on the web browsers and improving your application loading experience. By default, this attribute is set to `false`.
|====


=== REST APIs

.New APIs

[%collapsible]
====

* `POST /tspublic/v1/group/{groupid}/users`
* `GET /tspublic/v1/group/{groupid}/users`
* `DELETE /tspublic/v1/group/{groupid}/users`
* `PUT /tspublic/v1/user/email`
* `POST /tspublic/v1/user/{userid}/groups`
* `GET /tspublic/v1/user/{userid}/groups`
* `PUT /tspublic/v1/user/{userid}/groups`
* `DELETE /tspublic/v1/user/{userid}/groups`
* `POST /tspublic/v1/connection/create`
* `POST /tspublic/v1/connection/update`
* `POST /tspublic/v1/connection/export`
* `POST /tspublic/v1/connection/delete`
* `POST /tspublic/v1/metadata/unassigntag`
* `GET /tspublic/v1/metadata/list`
* `GET /tspublic/v1/security/metadata/permissions`
* `GET /tspublic/v1/security/metadata/{id}/permissions`
* `GET /tspublic/v1/security/effectivepermissionbulk`
* `GET /tspublic/v1/session/info`
* `POST /tspublic/v1/user/activate`
* `POST /tspublic/v1/user/inactivate`
* `POST /tspublic/v1/user/session/invalidate`
* `POST /tspublic/v1/user/resetpassword`
* `PUT /tspublic/v1/group/{groupid}/users`
* `POST /tspublic/v1/group/{groupid}/groups`
* `PUT /tspublic/v1/group/{groupid}/groups`
* `GET /tspublic/v1/group/{groupid}/groups`
* `POST /tspublic/v1/group/addmemberships`
* `POST /tspublic/v1/group/removememberships`
* `DELETE /tspublic/v1/group/{groupid}/groups`
====

.Modified APIs

[%collapsible]
====
* `POST /tspublic/v1/metadata/assigntag`
====


For more information about these APIs, see xref:rest-api-reference.adoc[REST API Reference].
